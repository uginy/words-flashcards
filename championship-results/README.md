# OpenRouter Free Models Championship Results

Эта директория содержит результаты автоматического тестирования всех бесплатных моделей OpenRouter для обработки еврейских слов.

## Файлы результатов

### JSON файлы
- `championship-results-YYYY-MM-DDTHH-MM-SS.json` - Детальные результаты в JSON формате
- Содержат полную статистику, конфигурацию теста и сырые данные

### Markdown отчеты  
- `championship-report-YYYY-MM-DDTHH-MM-SS.md` - Читаемые отчеты в Markdown
- Содержат рейтинговые таблицы, анализ и рекомендации

## Запуск чемпионата

```bash
# Использование Bun (рекомендуется)
bun run test:model-championship

# Или с помощью npm/npx
npm run test:model-championship
npx tsx scripts/test-api-chunks-best-model.ts
```

## Метрики оценки

### Композитная оценка (Total Score)
Итоговый балл рассчитывается по весовым коэффициентам:

- **Success Rate** (30%) - Процент успешно обработанных чанков
- **Word Success Rate** (25%) - Процент успешно обработанных слов  
- **Quality Score** (25%) - Качество обогащения слов
- **Response Time** (10%) - Скорость обработки (меньше = лучше)
- **JSON Stability** (10%) - Надежность парсинга JSON

### Quality Score
Оценка качества обогащения слов (0-100%):
- Транскрипция (25%)
- Перевод на русский (25%) 
- Склонения/спряжения (25%)
- Примеры использования (25%)

## Тестовые данные

### Набор слов (20 слов)
- **Глаголы (פועל):** לאכול, ללכת, לדבר, לכתוב, לקרוא
- **Существительные (שם עצם):** ספר, בית, מים, אוכל, חבר  
- **Прилагательные (שם תואר):** גדול, קטן, יפה, טוב, רע
- **Фразы (פרזות):** מה שלומך, בוקר טוב, תודה רבה, סליחה, שלום

### Конфигурация
- Размер чанка: 5 слов
- Задержка между моделями: 10 секунд
- Задержка между чанками: 2 секунды
- Таймаут на чанк: 30 секунд

## Интерпретация результатов

### Рейтинговая система
- **🥇🥈🥉** - Топ-3 чемпионов
- **Total Score 80+** - Отличное качество
- **Total Score 60-79** - Хорошее качество  
- **Total Score 40-59** - Удовлетворительное качество
- **Total Score <40** - Требует внимания

### Рекомендации по использованию
1. **Для продакшена** - Используйте топ-3 модели
2. **Для разработки** - Модели с высоким Success Rate
3. **Для скорости** - Модели с низким Response Time
4. **Для надежности** - Модели с минимальными JSON ошибками

## Структура JSON результатов

```json
{
  "timestamp": "2025-01-28T08:00:00Z",
  "testConfiguration": {
    "chunkSize": 5,
    "totalWords": 20,
    "totalModels": 62,
    "testedModels": 62,
    "delayBetweenModels": 10000
  },
  "results": [
    {
      "modelName": "model-name:free",
      "successRate": 100.0,
      "wordSuccessRate": 100.0,
      "averageResponseTime": 2500,
      "jsonParseErrors": 0,
      "qualityScore": 85.5,
      "totalScore": 89.25,
      "errors": [],
      "isAvailable": true,
      "testDuration": 15000,
      "rawResults": { /* детальная статистика */ }
    }
  ],
  "testWords": [ /* список тестовых слов */ ]
}
```

## Troubleshooting

### Общие проблемы
- **API Key не найден** - Установите `OPENROUTER_API_KEY` в environment variables
- **Все модели недоступны** - Проверьте интернет соединение и валидность API ключа
- **Высокий процент ошибок** - Возможно превышение rate limits, увеличьте задержки

### Переменные окружения
```bash
export OPENROUTER_API_KEY="your-api-key-here"
```

## История изменений

- **v1.0** - Первая версия чемпионата с 62 бесплатными моделями
- Поддержка прогресс-бара и детального логирования
- Автоматическое сохранение результатов в JSON и Markdown
- Система рейтингов с весовыми коэффициентами